Civet Sourcemap Accuracy Test Log
===================================
Testing with library: jridgewell



--- BEGIN SCENARIO: Simple Variable Declaration ---
Input Civet Code:
// Civet Line 1
myVar := 123 // Civet Line 2
another := "text" // Civet Line 3

Generated TypeScript Code:
// Civet Line 1
const myVar = 123 // Civet Line 2
const another = "text" // Civet Line 3

Generated Sourcemap JSON:
{
  "version": 3,
  "sources": [
    null
  ],
  "mappings": "AAAA,eAAe;AACf,AAAK,MAAL,KAAK,CAAC,CAAE,CAAC,GAAG,CAAC,eAAe;AAC5B,AAAA,AAAO,MAAP,OAAO,CAAC,CAAE,CAAC,MAAM,CAAC",
  "names": [],
  "sourcesContent": [
    "// Civet Line 1\nmyVar := 123 // Civet Line 2\nanother := \"text\" // Civet Line 3"
  ]
}

SCENARIO OVERALL STATUS: âœ… PASSED

--- TOKEN MAPPING VERIFICATION ---

--- Testing Token: 'myVar' (with @jridgewell/trace-mapping) ---
  WARNING: Mapped source ('') differs from expected ('Simple Variable Declaration.civet').
  Generated Position: TS Line 2, Col 6
  Expected Original : Civet Line 2, Col 0
  Actual Mapped     : Civet Line 2, Col 0 (Source: null/undefined)
  Status            : PASSED
--- End Token: 'myVar' ---

--- Testing Token: '123' (with @jridgewell/trace-mapping) ---
  WARNING: Mapped source ('') differs from expected ('Simple Variable Declaration.civet').
  Generated Position: TS Line 2, Col 14
  Expected Original : Civet Line 2, Col 9
  Actual Mapped     : Civet Line 2, Col 9 (Source: null/undefined)
  Status            : PASSED
--- End Token: '123' ---

--- Testing Token: 'another' (with @jridgewell/trace-mapping) ---
  WARNING: Mapped source ('') differs from expected ('Simple Variable Declaration.civet').
  Generated Position: TS Line 3, Col 6
  Expected Original : Civet Line 3, Col 0
  Actual Mapped     : Civet Line 3, Col 0 (Source: null/undefined)
  Status            : PASSED
--- End Token: 'another' ---

--- Testing Token: '"text"' (with @jridgewell/trace-mapping) ---
  WARNING: Mapped source ('') differs from expected ('Simple Variable Declaration.civet').
  Generated Position: TS Line 3, Col 16
  Expected Original : Civet Line 3, Col 11
  Actual Mapped     : Civet Line 3, Col 11 (Source: null/undefined)
  Status            : PASSED
--- End Token: '"text"' ---
--- END SCENARIO: Simple Variable Declaration ---



--- BEGIN SCENARIO: Variable Reassignment and Expressions ---
Input Civet Code:
// Civet Line 1
count := 0 // Civet Line 2
result := count * 2 // Civet Line 3

Generated TypeScript Code:
// Civet Line 1
const count = 0 // Civet Line 2
const result = count * 2 // Civet Line 3

Generated Sourcemap JSON:
{
  "version": 3,
  "sources": [
    null
  ],
  "mappings": "AAAA,eAAe;AACf,AAAK,MAAL,KAAK,CAAC,CAAE,CAAC,CAAC,CAAC,eAAe;AAC1B,AAAA,AAAM,MAAN,MAAM,CAAC,CAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC",
  "names": [],
  "sourcesContent": [
    "// Civet Line 1\ncount := 0 // Civet Line 2\nresult := count * 2 // Civet Line 3"
  ]
}

SCENARIO OVERALL STATUS: ðŸš§ FAILED

--- TOKEN MAPPING VERIFICATION ---

--- Testing Token: 'count' (with @jridgewell/trace-mapping) ---
  WARNING: Mapped source ('') differs from expected ('Variable Reassignment and Expressions.civet').
  Generated Position: TS Line 2, Col 6
  Expected Original : Civet Line 2, Col 0
  Actual Mapped     : Civet Line 2, Col 0 (Source: null/undefined)
  Status            : PASSED
--- End Token: 'count' ---

--- Testing Token: 'result' (with @jridgewell/trace-mapping) ---
  WARNING: Mapped source ('') differs from expected ('Variable Reassignment and Expressions.civet').
  Generated Position: TS Line 3, Col 6
  Expected Original : Civet Line 3, Col 0
  Actual Mapped     : Civet Line 3, Col 0 (Source: null/undefined)
  Status            : PASSED
--- End Token: 'result' ---

--- Testing Token: 'count * 2' (with @jridgewell/trace-mapping) ---
  WARNING: Mapped source ('') differs from expected ('Variable Reassignment and Expressions.civet').
  Generated Position: TS Line 3, Col 15
  Expected Original : Civet Line 3, Col 9
  Actual Mapped     : Civet Line 3, Col 10 (Source: null/undefined)
  Status            : FAILED (Column Mismatch)
  Failure Reason    : Token 'count * 2' in scenario 'Variable Reassignment and Expressions' COLUMN MISMATCH. Expected: Civet Line 3, Col 9. Actual: Civet Line 3, Col 10 (Source: null/undefined).
--- End Token: 'count * 2' ---
--- END SCENARIO: Variable Reassignment and Expressions ---



--- BEGIN SCENARIO: Conditional Statement (if/else) ---
Input Civet Code:
// Civet Line 1
num := 10 // Civet Line 2
message := if num > 0 // Civet Line 3
  "Positive" // Civet Line 4
else // Civet Line 5
  "Non-Positive" // Civet Line 6
console.log message // Civet Line 7

Generated TypeScript Code:
// Civet Line 1
const num = 10 // Civet Line 2
let ref;if (num > 0) { // Civet Line 3
  ref = "Positive"
} // Civet Line 4
else { // Civet Line 5
  ref = "Non-Positive"
};const message =ref // Civet Line 6
console.log(message) // Civet Line 7

Generated Sourcemap JSON:
{
  "version": 3,
  "sources": [
    null
  ],
  "mappings": "AAAA,eAAe;AACf,AAAG,MAAH,GAAG,CAAC,CAAE,CAAC,EAAE,CAAC,eAAe;AACzB,AAAA,I,G,CAAW,GAAG,CAAA,GAAG,CAAC,CAAC,CAAC,CAAC,CAAA,CAAA,CAAA,CAAC,eAAe;AACrC,AAAA,E,G,GAAE,U;AAAU,CAAA,CAAC,eAAe;AAC5B,AAAA,AAAA,IAAI,CAAA,CAAA,CAAC,eAAe;AACpB,AAAA,E,G,GAAE,c;AAAc,C,CAHT,MAAP,OAAO,CAAC,C,GAGQ,CAAC,eAAe;AAChC,AAAA,AAAA,OAAO,CAAC,GAAG,CAAA,AAAC,OAAO,CAAA,CAAC",
  "names": [],
  "sourcesContent": [
    "// Civet Line 1\nnum := 10 // Civet Line 2\nmessage := if num > 0 // Civet Line 3\n  \"Positive\" // Civet Line 4\nelse // Civet Line 5\n  \"Non-Positive\" // Civet Line 6\nconsole.log message // Civet Line 7"
  ]
}

SCENARIO OVERALL STATUS: ðŸš§ FAILED

--- TOKEN MAPPING VERIFICATION ---

--- Testing Token: 'num' (with @jridgewell/trace-mapping) ---
  WARNING: Mapped source ('') differs from expected ('Conditional Statement (if/else).civet').
  Generated Position: TS Line 2, Col 6
  Expected Original : Civet Line 2, Col 0
  Actual Mapped     : Civet Line 2, Col 0 (Source: null/undefined)
  Status            : PASSED
--- End Token: 'num' ---

--- Testing Token: 'message' (with @jridgewell/trace-mapping) ---
  WARNING: Mapped source ('') differs from expected ('Conditional Statement (if/else).civet').
  Generated Position: TS Line 8, Col 8
  Expected Original : Civet Line 3, Col 0
  Actual Mapped     : Civet Line 3, Col 0 (Source: null/undefined)
  Status            : PASSED
--- End Token: 'message' ---

--- Testing Token: 'num > 0' (with @jridgewell/trace-mapping) ---
  WARNING: Mapped source ('') differs from expected ('Conditional Statement (if/else).civet').
  Generated Position: TS Line 3, Col 12
  Expected Original : Civet Line 3, Col 14
  Actual Mapped     : Civet Line 3, Col 14 (Source: null/undefined)
  Status            : PASSED
--- End Token: 'num > 0' ---

--- Testing Token: '"Positive"' (with @jridgewell/trace-mapping) ---
  WARNING: Mapped source ('') differs from expected ('Conditional Statement (if/else).civet').
  Generated Position: TS Line 4, Col 8
  Expected Original : Civet Line 4, Col 2
  Actual Mapped     : Civet Line 4, Col 2 (Source: null/undefined)
  Status            : PASSED
--- End Token: '"Positive"' ---

--- Testing Token: '"Non-Positive"' (with @jridgewell/trace-mapping) ---
  WARNING: Mapped source ('') differs from expected ('Conditional Statement (if/else).civet').
  Generated Position: TS Line 7, Col 8
  Expected Original : Civet Line 6, Col 2
  Actual Mapped     : Civet Line 6, Col 2 (Source: null/undefined)
  Status            : PASSED
--- End Token: '"Non-Positive"' ---

--- Testing Token: 'console.log' (with @jridgewell/trace-mapping) ---
  WARNING: Mapped source ('') differs from expected ('Conditional Statement (if/else).civet').
  Generated Position: TS Line 9, Col 0
  Expected Original : Civet Line 7, Col 0
  Actual Mapped     : Civet Line 7, Col 0 (Source: null/undefined)
  Status            : PASSED
--- End Token: 'console.log' ---

--- Testing Token: 'message' (with @jridgewell/trace-mapping) ---
  WARNING: Mapped source ('') differs from expected ('Conditional Statement (if/else).civet').
  Generated Position: TS Line 8, Col 8
  Expected Original : Civet Line 7, Col 12
  Actual Mapped     : Civet Line 3, Col 0 (Source: null/undefined)
  Status            : FAILED (Line Mismatch) + Column Mismatch
  Failure Reason    : Token 'message' in scenario 'Conditional Statement (if/else)' LINE MISMATCH. Expected: Civet Line 7, Col 12. Actual: Civet Line 3, Col 0 (Source: null/undefined).
--- End Token: 'message' ---
--- END SCENARIO: Conditional Statement (if/else) ---



--- BEGIN SCENARIO: Loop Construct (for...of) ---
Input Civet Code:
// Civet Line 1
data := [10, 20] // Civet Line 2
processed := [] // Civet Line 3
for item of data // Civet Line 4
  processed.push item + 1 // Civet Line 5
console.log processed // Civet Line 6

Generated TypeScript Code:
// Civet Line 1
const data = [10, 20] // Civet Line 2
const processed = [] // Civet Line 3
for (const item of data) { // Civet Line 4
  processed.push(item + 1)
} // Civet Line 5
console.log(processed) // Civet Line 6

Generated Sourcemap JSON:
{
  "version": 3,
  "sources": [
    null
  ],
  "mappings": "AAAA,eAAe;AACf,AAAI,MAAJ,IAAI,CAAC,CAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe;AAChC,AAAA,AAAS,MAAT,SAAS,CAAC,CAAE,CAAC,CAAC,CAAC,CAAC,eAAe;AAC/B,AAAA,AAAA,GAAG,CAAC,CAAA,MAAA,IAAI,CAAC,EAAE,CAAC,IAAI,CAAA,CAAA,CAAA,CAAC,eAAe;AAChC,AAAA,EAAE,SAAS,CAAC,IAAI,CAAA,AAAC,IAAI,CAAC,CAAC,CAAC,CAAC,C;AAAA,CAAA,CAAC,eAAe;AACzC,AAAA,AAAA,OAAO,CAAC,GAAG,CAAA,AAAC,SAAS,CAAA,CAAC",
  "names": [],
  "sourcesContent": [
    "// Civet Line 1\ndata := [10, 20] // Civet Line 2\nprocessed := [] // Civet Line 3\nfor item of data // Civet Line 4\n  processed.push item + 1 // Civet Line 5\nconsole.log processed // Civet Line 6"
  ]
}

SCENARIO OVERALL STATUS: ðŸš§ FAILED

--- TOKEN MAPPING VERIFICATION ---

--- Testing Token: 'data' (with @jridgewell/trace-mapping) ---
  WARNING: Mapped source ('') differs from expected ('Loop Construct (for...of).civet').
  Generated Position: TS Line 2, Col 6
  Expected Original : Civet Line 2, Col 0
  Actual Mapped     : Civet Line 2, Col 0 (Source: null/undefined)
  Status            : PASSED
--- End Token: 'data' ---

--- Testing Token: '[10, 20]' (with @jridgewell/trace-mapping) ---
  WARNING: Mapped source ('') differs from expected ('Loop Construct (for...of).civet').
  Generated Position: TS Line 2, Col 13
  Expected Original : Civet Line 2, Col 8
  Actual Mapped     : Civet Line 2, Col 8 (Source: null/undefined)
  Status            : PASSED
--- End Token: '[10, 20]' ---

--- Testing Token: 'processed' (with @jridgewell/trace-mapping) ---
  WARNING: Mapped source ('') differs from expected ('Loop Construct (for...of).civet').
  Generated Position: TS Line 3, Col 6
  Expected Original : Civet Line 3, Col 0
  Actual Mapped     : Civet Line 3, Col 0 (Source: null/undefined)
  Status            : PASSED
--- End Token: 'processed' ---

--- Testing Token: 'item' (with @jridgewell/trace-mapping) ---
  WARNING: Mapped source ('') differs from expected ('Loop Construct (for...of).civet').
  Generated Position: TS Line 4, Col 11
  Expected Original : Civet Line 4, Col 4
  Actual Mapped     : Civet Line 4, Col 4 (Source: null/undefined)
  Status            : PASSED
--- End Token: 'item' ---

--- Testing Token: 'data' (with @jridgewell/trace-mapping) ---
  WARNING: Mapped source ('') differs from expected ('Loop Construct (for...of).civet').
  Generated Position: TS Line 2, Col 6
  Expected Original : Civet Line 4, Col 12
  Actual Mapped     : Civet Line 2, Col 0 (Source: null/undefined)
  Status            : FAILED (Line Mismatch) + Column Mismatch
  Failure Reason    : Token 'data' in scenario 'Loop Construct (for...of)' LINE MISMATCH. Expected: Civet Line 4, Col 12. Actual: Civet Line 2, Col 0 (Source: null/undefined).
--- End Token: 'data' ---

--- Testing Token: 'processed.push' (with @jridgewell/trace-mapping) ---
  WARNING: Mapped source ('') differs from expected ('Loop Construct (for...of).civet').
  Generated Position: TS Line 5, Col 2
  Expected Original : Civet Line 5, Col 2
  Actual Mapped     : Civet Line 5, Col 2 (Source: null/undefined)
  Status            : PASSED
--- End Token: 'processed.push' ---

--- Testing Token: 'item + 1' (with @jridgewell/trace-mapping) ---
  WARNING: Mapped source ('') differs from expected ('Loop Construct (for...of).civet').
  Generated Position: TS Line 5, Col 17
  Expected Original : Civet Line 5, Col 15
  Actual Mapped     : Civet Line 5, Col 17 (Source: null/undefined)
  Status            : FAILED (Column Mismatch)
  Failure Reason    : Token 'item + 1' in scenario 'Loop Construct (for...of)' COLUMN MISMATCH. Expected: Civet Line 5, Col 15. Actual: Civet Line 5, Col 17 (Source: null/undefined).
--- End Token: 'item + 1' ---

--- Testing Token: 'processed' (with @jridgewell/trace-mapping) ---
  WARNING: Mapped source ('') differs from expected ('Loop Construct (for...of).civet').
  Generated Position: TS Line 3, Col 6
  Expected Original : Civet Line 6, Col 12
  Actual Mapped     : Civet Line 3, Col 0 (Source: null/undefined)
  Status            : FAILED (Line Mismatch) + Column Mismatch
  Failure Reason    : Token 'processed' in scenario 'Loop Construct (for...of)' LINE MISMATCH. Expected: Civet Line 6, Col 12. Actual: Civet Line 3, Col 0 (Source: null/undefined).
--- End Token: 'processed' ---
--- END SCENARIO: Loop Construct (for...of) ---
